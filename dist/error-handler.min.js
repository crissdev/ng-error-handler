!function(){"use strict";angular.module("cdevErrorHandling",["pascalprecht.translate","ui.bootstrap"]).constant("cdevDefaultErrorCode","generic").constant("cdevDefaultErrorMessage","Something went wrong").constant("cdevErrorEventName","app-error").factory("cdevErrorHandler",["$rootScope","$q","$translate","cdevDefaultErrorCode","cdevDefaultErrorMessage","cdevErrorEventName",function(a,b,c,d,e,f){function g(a){var b;return a&&(a instanceof Error?b=a.message:angular.isString(a)?b=a:a.code&&(b=a.code)),b||d}function h(a,d){var f="errors."+g(a),h=b.defer();return c(f,d).then(function(a){h.resolve(a)}).catch(function(){console.log("The translation ID "+f+" is not mapped"),h.resolve(e)}),h.promise}function i(b,c){var d=g(b),e=k[d];return e&&angular.isFunction(e)?void e(b):void h(b,c).then(function(b){a.$emit(f,b,d)})}function j(a,b){a&&angular.isFunction(b)&&(k[a]=b)}var k={};return{format:h,handle:i,setCustomHandler:j}}]).directive("cdevErrorBox",["$rootScope","cdevErrorEventName",function(a,b){return{restrict:"A",template:'<alert ng-if="pageError" type="danger" close="clearPageError()">{{pageError}}</alert>',controller:function(a){a.pageError="",a.clearPageError=function(){a.pageError=""},a.setPageError=function(b){a.pageError=b}},link:function(c){a.$on(b,function(a,b){c.setPageError(b)})}}}])}();